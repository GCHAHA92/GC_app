import streamlit as st
from datetime import datetime

st.set_page_config(page_title="2) ì±—ë´‡", layout="wide")
st.title("2ï¸âƒ£ ê°„ë‹¨ ì±—ë´‡")

if "chat" not in st.session_state:
    st.session_state.chat = [{"role": "assistant", "content": "ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?"}]

for msg in st.session_state.chat:
    with st.chat_message(msg["role"]):
        st.markdown(msg["content"])

if prompt := st.chat_input("ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”"):
    st.session_state.chat.append({"role": "user", "content": prompt})
    with st.chat_message("user"):
        st.markdown(prompt)

    low = prompt.lower()
    if "ì •ì‚°" in prompt or "ì—‘ì…€" in prompt:
        reply = "ì •ì‚°ì€ **1_ì •ì‚°** í˜ì´ì§€ì—ì„œ ì—‘ì…€ ì—…ë¡œë“œ í›„ ì›”ë³„ íƒ­ì„ í™•ì¸í•˜ì„¸ìš”."
    elif "ì•ˆë…•" in prompt or "hello" in low:
        reply = "ì•ˆë…•í•˜ì„¸ìš”! ğŸ˜Š"
    elif "ì‹œê°„" in prompt:
        reply = f"í˜„ì¬ ì‹œê°: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}"
    else:
        reply = "ë©”ëª¨í–ˆìŠµë‹ˆë‹¤. ë” ìì„¸í•œ ê¸°ëŠ¥ì€ ê³§ ì¶”ê°€ë  ì˜ˆì •ì´ì—ìš”!"

    st.session_state.chat.append({"role": "assistant", "content": reply})
    with st.chat_message("assistant"):
        st.markdown(reply)
